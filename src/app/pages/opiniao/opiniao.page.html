<ion-content #IonContent [fullscreen]="true" [scrollEvents]="true">
  <app-loader [showLoader]="showLoader"></app-loader>

  <div class="main-container">
    <ion-title size="large" color="primary" class="main-title">
      <ion-icon [name]="'reader-outline'" color="secondary"></ion-icon>
      <ion-label>Opini찾o</ion-label>
    </ion-title>

    <div class="main-body" *ngIf="selectedModel && modelOpinions">
      <ion-grid slot="content" class="selected-model-grid">
        <ion-row>
          <ion-col size-lg="1.5" size-md="2" size-sm="2.7" size-xs="12" class="model-logo">
            <img src="assets/brands/{{selectedModel.brand.image}}" title="{{selectedModel.brand.name}} {{selectedModel.name}}" alt="{{selectedModel.brand.name}} {{selectedModel.name}}"
              onerror="if (this.src != 'error.jpg') this.src = 'assets/brands/no-brand.svg'" class="brand-image-title">
          </ion-col>
          <ion-col size-lg="9" size-md="8" size-sm="6.7" size-xs="12" class="model-name">
            <ion-label class="brand-label-title">{{selectedModel.brand.name}} <span>{{selectedModel.name}}</span></ion-label>
          </ion-col>
          <ion-col size-lg="1.5" size-md="2" size-sm="2.6" size-xs="12" class="model-category">
            <ion-icon name="git-compare-outline" color="dark" size="large" class="category-image"></ion-icon>
            <ion-label color="dark"> | </ion-label>
            <ion-icon name="heart-outline" color="dark" size="large" class="category-image"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-item lines="none">
        <img src="assets/models/{{selectedModel.image}}" title="{{selectedModel.brand.name}} {{selectedModel.name}}" alt="{{selectedModel.brand.name}} {{selectedModel.name}}"
          onerror="if (this.src != 'error.jpg') this.src = 'assets/models/no-model.png'" class="model-image">
      </ion-item>

      <ion-grid slot="content" class="selected-model-grid">
        <ion-row>
          <ion-col size-md="6" size-sm="6" size-xs="6">
            <ion-icon name="car" color="medium" size="large" class="category-image"></ion-icon>
            <ion-label color="medium">{{selectedModel.category.name}}</ion-label>
          </ion-col>
          <ion-col size-md="6" size-sm="6" size-xs="6" class="model-opinions">
            <ion-icon name="clipboard" color="medium" size="large" class="category-image"></ion-icon>
            <ion-label color="medium" *ngIf="modelOpinions.qtd > 0">{{modelOpinions.qtd}} opini{{modelOpinions.qtd < 2 ? '찾o' : '천es'}}</ion-label>
            <ion-label color="medium" *ngIf="modelOpinions.qtd === 0">Nenhuma opini찾o</ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid slot="content" class="selected-model-grid">
        <ion-row class="average-row" [ngClass]="modelAverage.id">
          <ion-col size-md="6" size-sm="6" size-xs="12">
            <ion-icon name="ribbon" color="dark" size="large"></ion-icon>
            <ion-label color="dark" *ngIf="modelOpinions.averages.average">{{modelOpinions.averages.average}} | {{modelAverage.name}}</ion-label>
            <ion-label color="dark" *ngIf="!modelOpinions.averages.average">{{modelAverage.name}}</ion-label>
          </ion-col>
          <ion-col size-md="6" size-sm="6" size-xs="12">
            <div class="val-bar">
              <div class="box1"><span><i class="arrow"></i></span></div>
              <div class="box2"><span><i class="arrow"></i></span></div>
              <div class="box3"><span><i class="arrow"></i></span></div>
              <div class="box4"><span><i class="arrow"></i></span></div>
              <div class="box5"><span><i class="arrow"></i></span></div>
            </div>
          </ion-col>
        </ion-row>

        <ion-row *ngFor="let item of valuationItens" class="average-row average-small" [ngClass]="item.valuation ? item.valuation.id : ''">
          <ion-col size-md="8" size-sm="7" size-xs="12">
            <ion-label color="dark" class="item-title"><h1>{{item.title}}</h1></ion-label>
            <ion-label class="item-subtitle"><p>{{item.subtitle}}</p></ion-label>
          </ion-col>
          <ion-col size-md="4" size-sm="5" size-xs="12">
            <div class="val-bar">
              <div class="box1"><span><i class="arrow"></i></span></div>
              <div class="box2"><span><i class="arrow"></i></span></div>
              <div class="box3"><span><i class="arrow"></i></span></div>
              <div class="box4"><span><i class="arrow"></i></span></div>
              <div class="box5"><span><i class="arrow"></i></span></div>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</ion-content>
