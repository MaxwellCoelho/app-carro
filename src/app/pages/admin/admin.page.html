<ion-content [fullscreen]="true">
  <div class="main-container">
    <ion-title size="large" color="primary" class="main-title">
      <ion-icon [name]="nav.admin.icon + '-outline'" color="secondary"></ion-icon>
      <ion-label>{{nav.admin.title}}</ion-label>
    </ion-title>

    <div class="main-body">
      <p>Administração da base de dados</p>

      <ion-accordion-group (ionChange)="accordionChange($event)">
        <ion-accordion value="roles">
          <ion-item slot="header" lines="none">
              <ion-label>Permissões de usuários</ion-label>
          </ion-item>

          <ion-grid slot="content">
            <ion-spinner name="crescent" color="primary" class="content-spinner" [ngClass]="{'show-spinner': !roles }"></ion-spinner>
            <ion-row>
              <ion-col><ion-label>Criar nova permissão:</ion-label></ion-col>
            </ion-row>
            <ion-row class="grid-content">
              <ion-col size="5">
                <ion-item>
                  <ion-label position="floating">Nome</ion-label>
                  <ion-input type="text" required="true"></ion-input>
                </ion-item>
              </ion-col>
              <ion-col size="5">
                <ion-item>
                  <ion-label position="floating">Nível</ion-label>
                  <ion-input type="number" min="0" max="100" required="true"></ion-input>
                </ion-item>
              </ion-col>
              <ion-col size="2">
                <ion-button size="large" title="Criar" color="success">
                  <ion-icon name="add-circle-outline"></ion-icon>
                </ion-button>
              </ion-col>
            </ion-row>

            <ion-row><ion-col><br></ion-col></ion-row>

            <ion-row *ngIf="roles">
              <ion-col><ion-label>Permissões:</ion-label></ion-col>
            </ion-row>
            <ion-row *ngIf="roles" class="grid-header">
              <ion-col size="4"><ion-label>Id</ion-label></ion-col>
              <ion-col size="3"><ion-label>Nome</ion-label></ion-col>
              <ion-col size="3"><ion-label>Nível</ion-label></ion-col>
              <ion-col size="2"><ion-label>Ação</ion-label></ion-col>
            </ion-row>
            <ion-row *ngFor="let role of roles" class="grid-content">
              <ion-col size="4"><ion-label>{{role._id}}</ion-label></ion-col>
              <ion-col size="3"><ion-label>{{role.name}}</ion-label></ion-col>
              <ion-col size="3"><ion-label>{{role.level}}</ion-label></ion-col>
              <ion-col size="2">
                <ion-button size="small" title="Editar" color="warning">
                  <ion-icon name="create-outline"></ion-icon>
                </ion-button>
                <ion-button size="small" title="Excluir" color="danger" (click)="deleteRole(role._id)">
                  <ion-icon name="trash-outline"></ion-icon>
                </ion-button>
                <!-- <ion-icon name='trash' size="small"></ion-icon> -->
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-accordion>

        <ion-accordion value="users">
          <ion-item slot="header" lines="none">
              <ion-label>Usuários</ion-label>
          </ion-item>

          <ion-grid slot="content">
            <ion-spinner name="crescent" color="primary" class="content-spinner" [ngClass]="{'show-spinner': !users }"></ion-spinner>
            <ion-row *ngIf="users">
              <ion-col><ion-label>Permissões:</ion-label></ion-col>
            </ion-row>
            <ion-row *ngIf="users" class="grid-header">
              <ion-col size="2"><ion-label>Id</ion-label></ion-col>
              <ion-col size="2"><ion-label>Nome</ion-label></ion-col>
              <ion-col size="2"><ion-label>Permissão</ion-label></ion-col>
              <ion-col size="2"><ion-label>Ativo</ion-label></ion-col>
              <ion-col size="2"><ion-label>Criado em</ion-label></ion-col>
            </ion-row>
            <ion-row *ngFor="let user of users" class="grid-content">
              <ion-col size="2"><ion-label>{{user._id}}</ion-label></ion-col>
              <ion-col size="2"><ion-label>{{user.name}}</ion-label></ion-col>
              <ion-col size="2"><ion-label>{{user.role}}</ion-label></ion-col>
              <ion-col size="2"><ion-label>{{user.active}}</ion-label></ion-col>
              <ion-col size="2"><ion-label>{{user.created_when}}</ion-label></ion-col>
            </ion-row>
          </ion-grid>
        </ion-accordion>

        <ion-accordion value="cars">
          <ion-item slot="header" lines="none">
            <ion-label>Carros</ion-label>
          </ion-item>

          <ion-grid slot="content">
            <ion-row>
              <ion-col>
                <p>Exemplo de usuários</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-accordion>
      </ion-accordion-group>
    </div>
  </div>
</ion-content>
